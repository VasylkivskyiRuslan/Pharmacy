"use strict";!function(p){p(document).on("cycle-bootstrap",function(e,i,l){"carousel"===i.fx&&(l.getSlideIndex=function(e){var i=this.opts()._carouselWrap.children();return i.index(e)%i.length},l.next=function(){var e=i.reverse?-1:1;!1===i.allowWrap&&i.currSlide+e>i.slideCount-i.carouselVisible||(i.API.advanceSlide(e),i.API.trigger("cycle-next",[i]).log("cycle-next"))})}),p.fn.cycle.transitions.carousel={preInit:function(e){e.hideNonActive=!1,e.container.on("cycle-destroyed",p.proxy(this.onDestroy,e.API)),e.API.stopTransition=this.stopTransition;for(var i=0;i<e.startingSlide;i++)e.container.append(e.slides[0])},postInit:function(e){var i,l,s,t,r=e.carouselVertical;e.carouselVisible&&e.carouselVisible>e.slideCount&&(e.carouselVisible=e.slideCount-1);var o=e.carouselVisible||e.slides.length,n={display:r?"block":"inline-block",position:"static"};if(e.container.css({position:"relative",overflow:"hidden"}),e.slides.css(n),e._currSlide=e.currSlide,t=p('<div class="cycle-carousel-wrap"></div>').prependTo(e.container).css({margin:0,padding:0,top:0,left:0,position:"absolute"}).append(e.slides),e._carouselWrap=t,r||t.css("white-space","nowrap"),!1!==e.allowWrap){for(l=0;l<(void 0===e.carouselVisible?2:1);l++){for(i=0;i<e.slideCount;i++)t.append(e.slides[i].cloneNode(!0));for(i=e.slideCount;i--;)t.prepend(e.slides[i].cloneNode(!0))}t.find(".cycle-slide-active").removeClass("cycle-slide-active"),e.slides.eq(e.startingSlide).addClass("cycle-slide-active")}e.pager&&!1===e.allowWrap&&(s=e.slideCount-o,p(e.pager).children().filter(":gt("+s+")").hide()),e._nextBoundry=e.slideCount-e.carouselVisible,this.prepareDimensions(e)},prepareDimensions:function(e){var i,l,s,t,r=e.carouselVertical,o=e.carouselVisible||e.slides.length;if(e.carouselFluid&&e.carouselVisible?e._carouselResizeThrottle||this.fluidSlides(e):e.carouselVisible&&e.carouselSlideDimension?(i=o*e.carouselSlideDimension,e.container[r?"height":"width"](i)):e.carouselVisible&&(i=o*p(e.slides[0])[r?"outerHeight":"outerWidth"](!0),e.container[r?"height":"width"](i)),l=e.carouselOffset||0,!1!==e.allowWrap)if(e.carouselSlideDimension)l-=(e.slideCount+e.currSlide)*e.carouselSlideDimension;else for(s=e._carouselWrap.children(),t=0;t<e.slideCount+e.currSlide;t++)l-=p(s[t])[r?"outerHeight":"outerWidth"](!0);e._carouselWrap.css(r?"top":"left",l)},fluidSlides:function(i){var e,l=i.slides.eq(0),s=l.outerWidth()-l.width(),t=this.prepareDimensions;function r(){clearTimeout(e),e=setTimeout(o,20)}function o(){i._carouselWrap.stop(!1,!0);var e=i.container.width()/i.carouselVisible;e=Math.ceil(e-s),i._carouselWrap.children().width(e),i._sentinel&&i._sentinel.width(e),t(i)}p(window).on("resize",r),i._carouselResizeThrottle=r,o()},transition:function(e,i,l,s,t){var r,o={},n=e.nextSlide-e.currSlide,c=e.carouselVertical,a=e.speed;if(!1===e.allowWrap){s=0<n;var d=e._currSlide,u=e.slideCount-e.carouselVisible;0<n&&e.nextSlide>u&&d==u?n=0:0<n&&e.nextSlide>u?n=e.nextSlide-d-(e.nextSlide-u):n<0&&e.currSlide>u&&e.nextSlide>u?n=0:n<0&&e.currSlide>u?n+=e.currSlide-u:d=e.currSlide,r=this.getScroll(e,c,d,n),e.API.opts()._currSlide=e.nextSlide>u?u:e.nextSlide}else s&&0===e.nextSlide?(r=this.getDim(e,e.currSlide,c),t=this.genCallback(e,s,c,t)):s||e.nextSlide!=e.slideCount-1?r=this.getScroll(e,c,e.currSlide,n):(r=this.getDim(e,e.currSlide,c),t=this.genCallback(e,s,c,t));o[c?"top":"left"]=s?"-="+r:"+="+r,e.throttleSpeed&&(a=r/p(e.slides[0])[c?"height":"width"]()*e.speed),e._carouselWrap.animate(o,a,e.easing,t)},getDim:function(e,i,l){return p(e.slides[i])[l?"outerHeight":"outerWidth"](!0)},getScroll:function(e,i,l,s){var t,r=0;if(0<s)for(t=l;t<l+s;t++)r+=this.getDim(e,t,i);else for(t=l;l+s<t;t--)r+=this.getDim(e,t,i);return r},genCallback:function(i,e,l,s){return function(){var e=0-p(i.slides[i.nextSlide]).position()[l?"top":"left"]+(i.carouselOffset||0);i._carouselWrap.css(i.carouselVertical?"top":"left",e),s()}},stopTransition:function(){var e=this.opts();e.slides.stop(!1,!0),e._carouselWrap.stop(!1,!0)},onDestroy:function(e){var i=this.opts();i._carouselResizeThrottle&&p(window).off("resize",i._carouselResizeThrottle),i.slides.prependTo(i.container),i._carouselWrap.remove()}}}(jQuery);